PS C:\Work\Web3\hello-foundry> forge test --match-contract NFTMarketTest --gas-report
[⠊] Compiling...
No files changed, compilation skipped

Ran 15 tests for test/NFTMarket.t.sol:NFTMarketTest
[PASS] testFuzz_ListAndBuy_RandomPrice_RandomBuyer(uint96,address) (runs: 257, μ: 681462, ~: 681386)
[PASS] test_Buy_Fail_InsufficientAllowance() (gas: 320089)
[PASS] test_Buy_Fail_InsufficientBalance() (gas: 317508)
[PASS] test_Buy_Fail_RepeatBuy() (gas: 500686)
[PASS] test_Buy_Fail_SelfBuy() (gas: 305505)
[PASS] test_Buy_Success_via_buyNFT() (gas: 480334)
[PASS] test_CallbackBuy_Fail_Underpay() (gas: 292336)
[PASS] test_CallbackBuy_Success_Exact() (gas: 430473)
[PASS] test_CallbackBuy_Success_OverpayRefund() (gas: 426437)
[PASS] test_Invariant_MarketTokenBalanceEqualsAccumulatedFees() (gas: 511082)
[PASS] test_List_Fail_ListAgain_NotOwnerAfterListed() (gas: 239448)
[PASS] test_List_Fail_NotApproved() (gas: 146197)
[PASS] test_List_Fail_NotOwner() (gas: 46139)
[PASS] test_List_Fail_PriceZero() (gas: 38183)
[PASS] test_List_Success() (gas: 240865)
Suite result: ok. 15 passed; 0 failed; 0 skipped; finished in 1.48s (1.68s CPU time)

╭----------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/ExtendedERC20.sol:ExtendedERC20 Contract |                 |        |        |        |         |
+=====================================================================================================+
| Deployment Cost                              | Deployment Size |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| 836004                                       | 4545            |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
|                                              |                 |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                | Min             | Avg    | Median | Max    | # Calls |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| allowance                                    | 2903            | 2903   | 2903   | 2903   | 260     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| approve                                      | 46040           | 46314  | 46316  | 46316  | 263     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| balanceOf                                    | 2581            | 2581   | 2581   | 2581   | 536     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| mint                                         | 52984           | 54044  | 53212  | 70300  | 286     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| transferWithCallback                         | 65028           | 129015 | 159120 | 162898 | 3       |
╰----------------------------------------------+-----------------+--------+--------+--------+---------╯

╭------------------------------+-----------------+-------+--------+--------+---------╮
| src/MyNFT.sol:MyNFT Contract |                 |       |        |        |         |
+====================================================================================+
| Deployment Cost              | Deployment Size |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
| 1240378                      | 5979            |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
|                              |                 |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
| Function Name                | Min             | Avg   | Median | Max    | # Calls |
|------------------------------+-----------------+-------+--------+--------+---------|
| approve                      | 48323           | 48334 | 48335  | 48335  | 271     |
|------------------------------+-----------------+-------+--------+--------+---------|
| getApproved                  | 2625            | 2625  | 2625   | 2625   | 268     |
|------------------------------+-----------------+-------+--------+--------+---------|
| isApprovedForAll             | 2991            | 2991  | 2991   | 2991   | 1       |
|------------------------------+-----------------+-------+--------+--------+---------|
| mint                         | 88379           | 90267 | 88379  | 122615 | 272     |
|------------------------------+-----------------+-------+--------+--------+---------|
| ownerOf                      | 2594            | 2594  | 2594   | 2594   | 539     |
╰------------------------------+-----------------+-------+--------+--------+---------╯

╭--------------------------------------+-----------------+--------+--------+--------+---------╮
| src/NFTMarket.sol:NFTMarket Contract |                 |        |        |        |         |
+=============================================================================================+
| Deployment Cost                      | Deployment Size |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| 1399822                              | 6186            |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
|                                      |                 |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                        | Min             | Avg    | Median | Max    | # Calls |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| accumulatedFees                      | 2418            | 2418   | 2418   | 2418   | 261     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| buyNFT                               | 28844           | 161993 | 163919 | 163919 | 263     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| getCurrentListingId                  | 2550            | 2550   | 2550   | 2550   | 267     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| getListing                           | 11253           | 11253  | 11253  | 11253  | 258     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| list                                 | 26736           | 225240 | 229128 | 229128 | 271     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| marketFeeRate                        | 2462            | 2462   | 2462   | 2462   | 4       |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| owner                                | 2530            | 2530   | 2530   | 2530   | 1       |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| withdrawFees                         | 53848           | 53848  | 53848  | 53848  | 1       |
╰--------------------------------------+-----------------+--------+--------+--------+---------╯


Ran 1 test suite in 1.54s (1.48s CPU time): 15 tests passed, 0 failed, 0 skipped (15 total tests)