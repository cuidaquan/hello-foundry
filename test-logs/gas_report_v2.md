PS C:\Work\Web3\hello-foundry> forge test --match-contract NFTMarketTest --gas-report
[⠊] Compiling...
No files changed, compilation skipped

Ran 15 tests for test/NFTMarket.t.sol:NFTMarketTest
[PASS] testFuzz_ListAndBuy_RandomPrice_RandomBuyer(uint96,address) (runs: 257, μ: 654476, ~: 654397)
[PASS] test_Buy_Fail_InsufficientAllowance() (gas: 297616)
[PASS] test_Buy_Fail_InsufficientBalance() (gas: 295036)
[PASS] test_Buy_Fail_RepeatBuy() (gas: 475670)
[PASS] test_Buy_Fail_SelfBuy() (gas: 283173)
[PASS] test_Buy_Success_via_buyNFT() (gas: 453344)
[PASS] test_CallbackBuy_Fail_Underpay() (gas: 270071)
[PASS] test_CallbackBuy_Success_Exact() (gas: 405993)
[PASS] test_CallbackBuy_Success_OverpayRefund() (gas: 401864)
[PASS] test_Invariant_MarketTokenBalanceEqualsAccumulatedFees() (gas: 486058)
[PASS] test_List_Fail_ListAgain_NotOwnerAfterListed() (gas: 217266)
[PASS] test_List_Fail_NotApproved() (gas: 146303)
[PASS] test_List_Fail_NotOwner() (gas: 46243)
[PASS] test_List_Fail_PriceZero() (gas: 38283)
[PASS] test_List_Success() (gas: 216537)
Suite result: ok. 15 passed; 0 failed; 0 skipped; finished in 1.69s (2.69s CPU time)

╭----------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/ExtendedERC20.sol:ExtendedERC20 Contract |                 |        |        |        |         |
+=====================================================================================================+
| Deployment Cost                              | Deployment Size |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| 836004                                       | 4545            |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
|                                              |                 |        |        |        |         |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                | Min             | Avg    | Median | Max    | # Calls |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| allowance                                    | 2903            | 2903   | 2903   | 2903   | 260     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| approve                                      | 46040           | 46314  | 46316  | 46316  | 263     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| balanceOf                                    | 2581            | 2581   | 2581   | 2581   | 536     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| mint                                         | 52984           | 54046  | 53224  | 70300  | 286     |
|----------------------------------------------+-----------------+--------+--------+--------+---------|
| transferWithCallback                         | 65043           | 127533 | 156936 | 160620 | 3       |
╰----------------------------------------------+-----------------+--------+--------+--------+---------╯

╭------------------------------+-----------------+-------+--------+--------+---------╮
| src/MyNFT.sol:MyNFT Contract |                 |       |        |        |         |
+====================================================================================+
| Deployment Cost              | Deployment Size |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
| 1240378                      | 5979            |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
|                              |                 |       |        |        |         |
|------------------------------+-----------------+-------+--------+--------+---------|
| Function Name                | Min             | Avg   | Median | Max    | # Calls |
|------------------------------+-----------------+-------+--------+--------+---------|
| approve                      | 48323           | 48334 | 48335  | 48335  | 271     |
|------------------------------+-----------------+-------+--------+--------+---------|
| getApproved                  | 2625            | 2625  | 2625   | 2625   | 268     |
|------------------------------+-----------------+-------+--------+--------+---------|
| isApprovedForAll             | 2991            | 2991  | 2991   | 2991   | 1       |
|------------------------------+-----------------+-------+--------+--------+---------|
| mint                         | 88379           | 90267 | 88379  | 122615 | 272     |
|------------------------------+-----------------+-------+--------+--------+---------|
| ownerOf                      | 2594            | 2594  | 2594   | 2594   | 539     |
╰------------------------------+-----------------+-------+--------+--------+---------╯

╭--------------------------------------+-----------------+--------+--------+--------+---------╮
| src/NFTMarket.sol:NFTMarket Contract |                 |        |        |        |         |
+=============================================================================================+
| Deployment Cost                      | Deployment Size |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| 1372301                              | 6067            |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
|                                      |                 |        |        |        |         |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                        | Min             | Avg    | Median | Max    | # Calls |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| accumulatedFees                      | 2374            | 2374   | 2374   | 2374   | 261     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| buyNFT                               | 28798           | 159348 | 161235 | 161235 | 263     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| getCurrentListingId                  | 2550            | 2550   | 2550   | 2550   | 267     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| getListing                           | 9153            | 9153   | 9153   | 9153   | 258     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| list                                 | 26836           | 203285 | 206842 | 206842 | 271     |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| marketFeeRate                        | 2424            | 2424   | 2424   | 2424   | 4       |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| owner                                | 2530            | 2530   | 2530   | 2530   | 1       |
|--------------------------------------+-----------------+--------+--------+--------+---------|
| withdrawFees                         | 53826           | 53826  | 53826  | 53826  | 1       |
╰--------------------------------------+-----------------+--------+--------+--------+---------╯


Ran 1 test suite in 1.75s (1.69s CPU time): 15 tests passed, 0 failed, 0 skipped (15 total tests)